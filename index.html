<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Football Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #a2dff7;
            font-family: Arial, sans-serif;
        }
        canvas {
            display: block;
            margin: 0 auto;
        }
        .case-container {
            text-align: center;
            margin-top: 30px;
        }
        .emoji-display {
            font-size: 100px;
            margin-top: 20px;
        }
        .case-button {
            background-color: #4CAF50;
            color: white;
            padding: 15px 32px;
            text-align: center;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            margin-top: 20px;
        }
        .status {
            font-size: 18px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas"></canvas>
    <div class="case-container">
        <button class="case-button" id="openCaseBtn">–û—Ç–∫—Ä—ã—Ç—å –∫–µ–π—Å</button>
        <div class="emoji-display" id="emojiDisplay">ü§∑</div>
        <p>–≠–º–æ–¥–∂–∏ –≤—ã–ø–∞–¥–µ—Ç –ø–æ—Å–ª–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞!</p>
        <div class="status" id="statusDisplay">–ú–æ–Ω–µ—Ç—ã: 10 | –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø–æ–ø—ã—Ç–∫–∏: 3</div>
    </div>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ö–æ–ª—Å—Ç–∞
        canvas.width = 800;
        canvas.height = 600;

        // –≠–º–æ–¥–∂–∏ –¥–ª—è –≤—ã–ø–∞–¥–µ–Ω–∏—è —Å —Ä–µ–¥–∫–æ—Å—Ç—å—é
        const emojiList = [
            { emoji: "ü•∑", rarity: "Legendary" },
            { emoji: "üëº", rarity: "Epic" },
            { emoji: "üíÇ", rarity: "Epic" },
            { emoji: "ü´Ö", rarity: "Rare" },
            { emoji: "ü§µ", rarity: "Rare" },
            { emoji: "üßë‚Äçüöí", rarity: "Common" },
            { emoji: "üëÆ", rarity: "Common" }
        ];

        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–∞
        const player = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            size: 50,
            emoji: "ü§∑", // –≠–º–æ–¥–∑–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            coins: 10,  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç
            attemptsLeft: 3,  // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –Ω–∞ –¥–µ–Ω—å
            draw() {
                ctx.font = "50px Arial";
                ctx.fillText(this.emoji, this.x, this.y);
            },
            move() {
                if (keys.ArrowUp) this.y -= this.speed;
                if (keys.ArrowDown) this.y += this.speed;
                if (keys.ArrowLeft) this.x -= this.speed;
                if (keys.ArrowRight) this.x += this.speed;
            }
        };

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–ª–∞–≤–∏—à
        const keys = {};
        window.addEventListener("keydown", (e) => keys[e.key] = true);
        window.addEventListener("keyup", (e) => keys[e.key] = false);

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –∫–µ–π—Å–∞
        document.getElementById("openCaseBtn").addEventListener("click", () => {
            if (player.coins > 0 && player.attemptsLeft > 0) {
                // –î–µ–ª–∞–µ–º –≤—ã–ø–∞–¥–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã–º
                const randomIndex = Math.floor(Math.random() * emojiList.length);
                const randomEmoji = emojiList[randomIndex];

                // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–ø–∞–¥–µ–Ω–∏–µ
                document.getElementById("emojiDisplay").innerText = randomEmoji.emoji;
                player.emoji = randomEmoji.emoji;

                // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–¥–∫–æ—Å—Ç—å
                alert(`–í—ã–ø–∞–ª –ø–µ—Ä—Å–æ–Ω–∞–∂: ${randomEmoji.emoji} (–†–µ–¥–∫–æ—Å—Ç—å: ${randomEmoji.rarity})`);

                // –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                player.coins -= 1;
                player.attemptsLeft -= 1;
                updateStatus();
            } else {
                alert("–£ –≤–∞—Å –Ω–µ—Ç –º–æ–Ω–µ—Ç –∏–ª–∏ –ø–æ–ø—ã—Ç–æ–∫ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è.");
            }
        });

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
        function updateStatus() {
            document.getElementById("statusDisplay").innerText = `–ú–æ–Ω–µ—Ç—ã: ${player.coins} | –û—Å—Ç–∞–≤—à–∏–µ—Å—è –ø–æ–ø—ã—Ç–∫–∏: ${player.attemptsLeft}`;
        }

        function gameLoop() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            player.move();
            player.draw();
            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>
